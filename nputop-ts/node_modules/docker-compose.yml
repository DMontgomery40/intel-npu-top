version: "3.9"
services:
  nputop-ts:
    build: .
    container_name: nputop-ts
    restart: unless-stopped
    privileged: true  # Needed for sysfs access
    # Using same device pass-through as your Python version
    devices:
      - "/sys/devices/pci0000:00/0000:00:0b.0:/sys/devices/pci0000:00/0000:00:0b.0"
    command: ["npx", "ts-node", "npu_usage_graph.ts"]